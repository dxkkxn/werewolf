{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { useFonts } from 'expo-font';\nimport { useState } from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar url = \"http://\" + window.location.hostname + \":3000\";\nvar arrow = require(\"../assets/images/rightArrow.png\");\nfunction importAll(r) {\n  var images = {};\n  r.keys().map(function (item, index) {\n    images[item.replace('./', '')] = r(item);\n  });\n  return images;\n}\nfunction fetchAvatarId(_x) {\n  return _fetchAvatarId.apply(this, arguments);\n}\nfunction _fetchAvatarId() {\n  _fetchAvatarId = _asyncToGenerator(function* (username) {\n    try {\n      var response = yield fetch(url + \"/users/\" + username, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Response was not ok');\n      }\n      var data = yield response.json();\n      var avatarId = data.data.avatarId;\n      var icon = require(\"../assets/images/avatar\" + avatarId + \".png\");\n      return icon;\n    } catch (error) {\n      console.error('Error fetching user data:', error);\n    }\n  });\n  return _fetchAvatarId.apply(this, arguments);\n}\nexport function AvailableGame(_ref) {\n  var gameProps = _ref.gameProps,\n    username = _ref.username,\n    token = _ref.token;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    icon = _useState2[0],\n    setIcon = _useState2[1];\n  var _useFonts = useFonts({\n      'Poppins': require(\"../assets/fonts/Poppins-Regular.ttf\")\n    }),\n    _useFonts2 = _slicedToArray(_useFonts, 1),\n    loaded = _useFonts2[0];\n  if (!loaded) {\n    return null;\n  }\n  fetchAvatarId(gameProps.creatorUsername).then(function (icon) {\n    setIcon(icon);\n  });\n  var joinGame = function joinGame(idGame, username, token) {\n    fetch(url + \"/game/\" + idGame, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-access-token': token\n      }\n    }).then(function (data) {\n      console.log(data);\n    }).catch(function (error) {\n      return console.error(error);\n    });\n  };\n  return _jsxs(View, {\n    style: styles.rectangle,\n    children: [_jsxs(View, {\n      style: styles.leftPart,\n      children: [_jsx(Image, {\n        source: icon,\n        style: styles.image\n      }), _jsxs(Text, {\n        style: styles.text,\n        children: [\" \", gameProps.username, \" \"]\n      })]\n    }), _jsxs(View, {\n      style: styles.rightPart,\n      children: [_jsxs(\"ul\", {\n        style: styles.paramList,\n        children: [_jsxs(\"li\", {\n          children: [\" Cr\\xE9\\xE9e par \", gameProps.creatorUsername, \" \"]\n        }), _jsxs(\"li\", {\n          children: [\" Debut a \", gameProps.startHour, \"h dans \", gameProps.startDay, \" jours\"]\n        }), _jsxs(\"li\", {\n          children: [\" De \", gameProps.minPlayers, \" \\xE0 \", gameProps.maxPlayers, \" joueurs\"]\n        }), _jsxs(\"li\", {\n          children: [\" Jour: \", gameProps.dayDuration, \" min, Nuit: \", gameProps.nightDuration, \" min \"]\n        }), _jsxs(\"li\", {\n          children: [\" C: \", gameProps.infectionProbability, \", I:\", gameProps.insomniaProbability, \", V:\", gameProps.seerProbability, \", S:\", gameProps.spiritismProbability, \" \"]\n        }), _jsxs(\"li\", {\n          children: [\" Proportion de loups : \", gameProps.werewolfProbability, \" \"]\n        })]\n      }), _jsx(TouchableOpacity, {\n        style: styles.arrowBox,\n        onPress: function onPress() {\n          joinGame(gameProps.idGame, username, token);\n        },\n        children: _jsx(Image, {\n          style: styles.arrowStyle,\n          source: arrow\n        })\n      })]\n    })]\n  });\n}\n;\nvar styles = StyleSheet.create({\n  arrowBox: {\n    height: '40px',\n    width: '50px',\n    backgroundColor: '#7858a6',\n    borderTopLeftRadius: 10,\n    borderBottomLeftRadius: 0,\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 10,\n    justifyContent: 'center',\n    position: 'absolute',\n    bottom: 0,\n    right: 0\n  },\n  arrowStyle: {\n    width: '28px',\n    height: '20px',\n    alignSelf: 'center'\n  },\n  rectangle: {\n    flexDirection: 'row',\n    height: '190px',\n    marginBottom: 15,\n    width: '350px',\n    backgroundColor: 'rgba(120, 88, 166, 0.3)',\n    borderRadius: 10\n  },\n  rightPart: {\n    display: 'flex',\n    flex: 3,\n    backgrounfColor: 'white',\n    alignItems: 'left'\n  },\n  leftPart: {\n    flex: 2,\n    backgrounfColor: 'white',\n    alignItems: 'center'\n  },\n  image: {\n    width: '100px',\n    height: '100px',\n    alignSelf: 'center',\n    top: 9\n  },\n  text: {\n    color: '#ffffff',\n    fontSize: 18,\n    fontFamily: 'Poppins',\n    marginTop: 13,\n    fontWeight: 800\n  },\n  paramList: {\n    color: '#ffffff',\n    fontFamily: 'Poppins',\n    fontStyle: 'normal',\n    fontWeight: 700,\n    fontSize: 14,\n    paddingLeft: 20\n  }\n});","map":{"version":3,"names":["useFonts","useState","jsx","_jsx","jsxs","_jsxs","url","window","location","hostname","arrow","require","importAll","r","images","keys","map","item","index","replace","fetchAvatarId","_x","_fetchAvatarId","apply","arguments","_asyncToGenerator","username","response","fetch","method","headers","ok","Error","data","json","avatarId","icon","error","console","AvailableGame","_ref","gameProps","token","_useState","_useState2","_slicedToArray","setIcon","_useFonts","_useFonts2","loaded","creatorUsername","then","joinGame","idGame","log","catch","View","style","styles","rectangle","children","leftPart","Image","source","image","Text","text","rightPart","paramList","startHour","startDay","minPlayers","maxPlayers","dayDuration","nightDuration","infectionProbability","insomniaProbability","seerProbability","spiritismProbability","werewolfProbability","TouchableOpacity","arrowBox","onPress","arrowStyle","StyleSheet","create","height","width","backgroundColor","borderTopLeftRadius","borderBottomLeftRadius","borderTopRightRadius","borderBottomRightRadius","justifyContent","position","bottom","right","alignSelf","flexDirection","marginBottom","borderRadius","display","flex","backgrounfColor","alignItems","top","color","fontSize","fontFamily","marginTop","fontWeight","fontStyle","paddingLeft"],"sources":["/home/ennouaimi/PROJET/LoupGarouWeb/components/AvailableGame.js"],"sourcesContent":["import { StyleSheet, Image, TouchableOpacity, View, Text} from 'react-native';\nimport { useFonts } from 'expo-font';\nimport {useState} from 'react';\n\nconst url = `http://${window.location.hostname}:3000`\nconst arrow = require('../assets/images/rightArrow.png');\n\nfunction importAll(r) {\n  let images = {};\n  r.keys().map((item, index) => { images[item.replace('./', '')] = r(item); });\n  return images;\n}\n\nasync function fetchAvatarId(username) {\n  try {\n    const response = await fetch(`${url}/users/${username}`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    if (!response.ok) {\n      throw new Error('Response was not ok');\n    }\n    const data = await response.json();\n    const avatarId = data.data.avatarId;\n    const icon = require(`../assets/images/avatar${avatarId}.png`);\n    return icon;\n  } catch (error) {\n    console.error('Error fetching user data:', error);\n  }\n}\n \nexport function AvailableGame ({gameProps, username, token}) {\n  const [icon, setIcon] = useState(null);\n  const [loaded] = useFonts({\n    'Poppins': require('../assets/fonts/Poppins-Regular.ttf'),\n  });\n\n  if (!loaded) {\n    return null;\n  }\n  fetchAvatarId(gameProps.creatorUsername)\n  .then(icon => {\n    setIcon(icon)\n  });\n  const joinGame = (idGame, username, token) => {\n    fetch(`${url}/game/${idGame}` ,{\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'x-access-token': token\n      }\n    })\n    .then(data => {\n      console.log(data);\n    })\n    .catch(error => console.error(error));\n  };\n  return(\n    <View style={styles.rectangle}>\n      <View style={styles.leftPart}>\n        <Image source={icon} style={styles.image}/>\n        <Text style={styles.text}> {gameProps.username} </Text>\n      </View>\n      <View style={styles.rightPart}>\n        <ul style={styles.paramList}>\n          <li> Créée par {gameProps.creatorUsername} </li>\n          <li> Debut a {gameProps.startHour}h dans {gameProps.startDay} jours</li>\n          <li> De {gameProps.minPlayers} à {gameProps.maxPlayers} joueurs</li>\n          <li> Jour: {gameProps.dayDuration} min, Nuit: {gameProps.nightDuration} min </li>\n          <li> C: {gameProps.infectionProbability}, I:{gameProps.insomniaProbability}, V:{gameProps.seerProbability}, S:{gameProps.spiritismProbability} </li>\n          <li> Proportion de loups : {gameProps.werewolfProbability} </li>\n        </ul>\n        <TouchableOpacity style={styles.arrowBox} onPress = {()=>{joinGame(gameProps.idGame, username, token)}}>\n          <Image style={styles.arrowStyle} source={arrow}/>\n        </TouchableOpacity>\n      </View>\n    </View>\n  ); \n};\n\n\nconst styles = StyleSheet.create({\n  arrowBox: {\n    height: '40px',\n    width: '50px',\n    backgroundColor: '#7858a6',\n    borderTopLeftRadius: 10, \n    borderBottomLeftRadius: 0, \n    borderTopRightRadius: 0, \n    borderBottomRightRadius: 10,\n    justifyContent: 'center',\n    position: 'absolute',\n    bottom: 0,\n    right: 0,\n  },\n  arrowStyle: {\n    width:'28px', \n    height:'20px',\n    alignSelf: 'center',\n  },\n  rectangle: {\n    flexDirection:'row',\n    height: '190px',\n    marginBottom: 15,\n    width: '350px',\n    backgroundColor: 'rgba(120, 88, 166, 0.3)',\n    borderRadius: 10,\n  },\n  rightPart:{\n    display: 'flex',\n    flex:3,\n    backgrounfColor: 'white',\n    alignItems: 'left',\n  },\n  leftPart:{\n    flex:2,\n    backgrounfColor: 'white',\n    alignItems: 'center',\n  },\n  image: {\n    width: '100px',\n    height: '100px',\n    alignSelf: 'center',\n    top:9,\n  },\n  text: {\n    color: '#ffffff',\n    fontSize: 18,\n    fontFamily: 'Poppins',\n    marginTop: 13,\n    fontWeight: 800,\n  },\n  paramList: {\n    color: '#ffffff',\n    fontFamily: 'Poppins',\n    fontStyle: 'normal',\n    fontWeight: 700,\n    fontSize: 14,\n    paddingLeft:20,\n  },\n});\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}